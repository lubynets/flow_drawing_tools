From 7bd7ab06c2fb777bde79c632d15adf3d8acb844e Mon Sep 17 00:00:00 2001
From: Oleksii Lubynets <lubinets95@gmail.com>
Date: Mon, 3 Oct 2022 23:21:17 +0200
Subject: [PATCH] bias palette optionally

---
 draw/double_differential_correlation.cpp | 2 +-
 draw/double_differential_correlation.h   | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/draw/double_differential_correlation.cpp b/draw/double_differential_correlation.cpp
index dce9ebb..2285546 100644
--- a/draw/double_differential_correlation.cpp
+++ b/draw/double_differential_correlation.cpp
@@ -29,7 +29,7 @@ void DoubleDifferentialCorrelation::Calculate() {
 }
 void DoubleDifferentialCorrelation::FillGraphs() {
   std::vector<int> colors;
-  if( projection_points_.size() < palette_.size() ){
+  if( projection_points_.size() < palette_.size() && bias_palette_ ){
     auto bias = palette_.size() / projection_points_.size();
     for( size_t i=0; i<projection_points_.size(); ++i )
       colors.push_back(palette_.at(i*bias));
diff --git a/draw/double_differential_correlation.h b/draw/double_differential_correlation.h
index 73c55b8..691c620 100644
--- a/draw/double_differential_correlation.h
+++ b/draw/double_differential_correlation.h
@@ -66,6 +66,7 @@ public:
   void SetSliceAxis(const Qn::AxisD &slice_axis) { slice_axis_ = slice_axis; }
   void SetMarker(int marker) { marker_ = marker; }
   void SetPalette(const std::vector<int> &palette) { palette_ = palette; }
+  void SetBiasPalette(bool value=true) { bias_palette_ = value; }
   void Calculate();
   void SaveToFile( const std::string& file_name );
   void SetErrorOption(const std::string &error_option);
@@ -101,6 +102,7 @@ protected:
       kOrange-3,
       kRed,
   };
+  bool bias_palette_{true};
 
 };
 
-- 
2.34.1

